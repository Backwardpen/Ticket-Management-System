<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ticket Management</title>
    <link rel="stylesheet" href="css/createTicket.css">
    <link rel="stylesheet" href="css/theme.css">
</head>

<body>
    <header>
        <h1>Ticket Management</h1>
    </header>

    <main>
        <form action="new_ticket" method="post">
            <label for="title">Title</label>
            <input type="text" id="title" name="title" placeholder="Whats your Problem" required>

            <label for="name">Name</label>
            <input type="text" id="name" name="name" placeholder="Enter your name" required>

            <label for="email">Email</label>
            <input type="email" id="email" name="email" placeholder="Enter your email" required>

            <label for="description">Description</label>
            <textarea id="description" name="description" placeholder="Descripe your Problem" required></textarea>

            <label for="raum">Room</label>
            <input type="text" id="raum" name="raum" placeholder="Enter your room" list="rooms" required >

            <!-- Liste muss von O01 bis O62 und E01 bis E62 gehen-->
            <datalist id="rooms">
                <!-- Erdgeschoss Optionen -->
                <option disabled="disabled" value="Hier geht das Untergeschoss los">
                <optgroup label="Erdgeschoss">
                    <option value="E01">
                    <option value="E02">
                    <option value="E03">
                    <option value="E04">
                    <option value="E05">
                    <option value="E06">
                    <option value="E07">
                    <option value="E08">
                    <option value="E09">
                    <option value="E10 Sekretariat">
                    <option value="E11 Schulleitung">
                    <option value="E12 Schulleitung">
                    <option value="E13">
                    <option value="E14 Stellvertretende Schulleitung">
                    <option value="E15 Lehrertoiletten">
                    <option value="E16 Lehrertoiletten">
                    <option value="E17 Lehrertoiletten">
                    <option value="E18 Lehrerarbeitsraum (LAR)">
                    <option value="E19 LAR Besprechungsraum">
                    <option value="E20 Mittelstufenleitung">
                    <option value="E21">
                    <option value="E21a">
                    <option value="E22">
                    <option value="E22a Oberstufenleitung">
                    <option value="E23 Netzwerkstatt">
                    <option value="E24">
                    <option value="E25">
                    <option value="E26 Q2 Aufenthalsraum">
                    <option value="E27 E-Phase Aufenthalsraum">
                    <option value="E28 alter Kiosk">
                    <option value="E29 alter Kiosk">
                    <option value="E30 Kunstraum">
                    <option value="E31 Kunstlager">
                    <option value="E32 Kunstraum">
                    <option value="E33">
                    <option value="E34">
                    <option value="E35">
                    <option value="E36">
                    <option value="E37">
                    <option value="E38">
                    <option value="E39">
                    <option value="E40">
                    <option value="E41 Festsaalkiosk">
                    <option value="E42">
                    <option value="E43">
                    <option value="E43a Festsaaltechnik">
                    <option value="E44">
                    <option value="E45">
                    <option value="E46 SV-Raum">
                    <option value="E47 Beinträchtigtentoilette">
                    <option value="E48">
                    <option value="E49 Jungstoiletten">
                    <option value="E50 Mädchentoiletten">
                    <option value="E51">
                    <option value="E52">
                    <option value="E53">
                    <option value="E54">
                    <option value="E55">
                    <option value="E56">
                    <option value="E57">
                    <option value="E58">
                    <option value="E59">
                    <option value="E60">
                    <option value="E61">
                    <option value="E62">
                </optgroup>

                <!-- Obergeschoss Optionen -->
                <option disabled="disabled" value="Hier geht das Obergeschoss los">
                <optgroup label="Obergeschoss">
                    <option value="O01">
                    <option value="O02">
                    <option value="O03">
                    <option value="O04">
                    <option value="O05">
                    <option value="O06">
                    <option value="O07">
                    <option value="O08">
                    <option value="O09">
                    <option value="O10">
                    <option value="O11">
                    <option value="O12">
                    <option value="O13">
                    <option value="O14">
                    <option value="O15 Schulbibliotek">
                    <option value="O16">
                    <option value="O17">
                    <option value="O18">
                    <option value="O19">
                    <option value="O20">
                    <option value="O21">
                    <option value="O22">
                    <option value="O23">
                    <option value="O24">
                    <option value="O25">
                    <option value="O26">
                    <option value="O27 Schulbücherei">
                    <option value="O28">
                    <option value="O29">
                    <option value="O30">
                    <option value="O31">
                    <option value="O32">
                    <option value="O33">
                    <option value="O34">
                    <option value="O35">
                    <option value="O36">
                    <option value="O37">
                    <option value="O38">
                    <option value="O39">
                    <option value="O40">
                    <option value="O41">
                    <option value="O42">
                    <option value="O43">
                    <option value="O44">
                    <option value="O45">
                    <option value="O46">
                    <option value="O47">
                    <option value="O48 MMR2">
                    <option value="O49 MMR1">
                    <option value="O50 Festsallempore">
                    <option value="O51">
                    <option value="O52">
                    <option value="O53">
                    <option value="O54">
                    <option value="O55">
                    <option value="O56">
                    <option value="O57 Chemieraum">
                    <option value="O58 Chemieraum">
                    <option value="O59 Bioraum">
                    <option value="O60 Bioraum">
                    <option value="O61 Physikraum">
                    <option value="O62 Physikraum">
                    <option value="O63 Physiklager">
                    <option value="O64 Biologielager">
                    <option value="O65 Chemielager">
                    <option value="O66 Schülerlabor/3D-Drucker">
                    <option value="067 Schülerlabor">
                </optgroup>
            </datalist>

            <!-- Stellt sicher, dass die angegebene Option mit O(bergeschoss) oder E(rdgeschoss) anfängt, da wir keine andere Aufteilung in Räume haben -->
            <script>
                document.getElementById('raum').addEventListener('input', function (e) {
                    const value = e.target.value.toUpperCase();
                    if (!/^([EO]\d{0,2})$/.test(value)) {
                        e.target.value = value.slice(0, -1);
                    }
                });
            </script>

            <label for="priority">Priority</label>
            <select id="priority" name="priority" required>
                <option value="low">Low</option>
                <option value="medium">Medium</option>
                <option value="high">High</option>
            </select>

            <button type="submit" id="button">Create Ticket</button>
            <button onclick="viewTickets()" id="button">View Tickets</button>
        </form>
    </main>
    <script>
        function viewTickets() {
            // Redirect to viewTickets.html
            window.location.href = "viewTicket.html";
        }
    </script>
</body>

</html>